# bfna-website-migration-2 Development Guidelines

Auto-generated from all feature plans. Last updated: 2025-11-08

## Active Technologies
- TypeScript 5.0+, Node.js (via Nuxt 4.2.0) + Nuxt 4.2.0, Vue 3.5.13, @vueuse/core 14.0.0, @nuxt/content 3.7.1 (001-search-functionality)
- Static JSON files (`src/content/data/publications.json`, `videos.json`, `infographics.json`), generated `public/search.json` (001-search-functionality)
- TypeScript 5.0+, Vue 3.5.13, Nuxt 4.2.0 + `@nuxt/content` (^3.7.1), `@nuxt/image` (^2.0.0), `@vueuse/core` (^14.0.0), `@vueuse/nuxt` (^14.0.0) (002-phase-2-migration)
- Static JSON files in `src/content/data/` (migrating to individual Nuxt Content format files in `src/content/workstreams/`) (002-phase-2-migration)
- TypeScript 5.x, Vue 3.x, Nuxt 3.x + Nuxt 3, Vue 3, @nuxt/content, @nuxt/image (001-verify-infographic-news-pages)
- Static JSON files in `src/content/data/` (no database) (001-verify-infographic-news-pages)
- TypeScript 5.0+ / JavaScript (ES2020+) (003-directus-migration)
- Directus CMS (external API), static JSON files (fallback during migration) (003-directus-migration)

- TypeScript 5.0+, Vue 3.5+, Nuxt 4.2.0 (Nuxt 3.13 runtime with Nuxt 4 compatibility date) + Nuxt 4, Vue 3, VueUse (@vueuse/core), @nuxt/image, @nuxt/content, Pinia (001-nuxt-migration)

## Project Structure

```text
src/
tests/
```

## Commands

npm test && npm run lint

## Code Style

TypeScript 5.0+, Vue 3.5+, Nuxt 4.2.0 (Nuxt 3.13 runtime with Nuxt 4 compatibility date): Follow standard conventions

## Recent Changes
- 003-directus-migration: Added TypeScript 5.0+ / JavaScript (ES2020+)
- 001-verify-infographic-news-pages: Added TypeScript 5.x, Vue 3.x, Nuxt 3.x + Nuxt 3, Vue 3, @nuxt/content, @nuxt/image
- 002-phase-2-migration: Added TypeScript 5.0+, Vue 3.5.13, Nuxt 4.2.0 + `@nuxt/content` (^3.7.1), `@nuxt/image` (^2.0.0), `@vueuse/core` (^14.0.0), `@vueuse/nuxt` (^14.0.0)


<!-- MANUAL ADDITIONS START -->

## CRITICAL: Never Edit node_modules

**ABSOLUTE PROHIBITION**: Under NO circumstances should you EVER edit, modify, or create files in the `node_modules/` directory or any subdirectory within it.

**Why this is critical**:
- Files in `node_modules/` are managed by package managers (npm, yarn, pnpm)
- Any changes will be overwritten on the next `npm install` or package update
- Editing dependencies directly breaks the dependency management system
- This is a fundamental violation of proper software development practices

**What to do instead**:
- If you need to modify a dependency's behavior, create a wrapper, patch, or fork the package properly
- Use package.json patches, patch-package, or fork the package and reference your fork
- If you encounter issues with a dependency, report it upstream or find an alternative solution
- Never suggest editing files in `node_modules/` as a solution

**Enforcement**:
- If you see a file path containing `node_modules/`, immediately reject the operation
- If a user requests editing something in `node_modules/`, explain why this is not allowed and suggest proper alternatives
- This rule applies to ALL operations: reading, writing, editing, deleting, or creating files

<!-- MANUAL ADDITIONS END -->
